var czrapp=czrapp||{};!function(a,i){var e={initOnCzrReady:function(){if(void 0!==a.fn.masonry){var o=a(".masonry__wrapper"),t=a.Deferred(),r=i.base.matchMedia&&i.base.matchMedia(575),e=_.debounce(function(){o.masonry("layout")},200);o.length<1?i.errorLog("Masonry container does not exist in the DOM."):(o.bind("masonry-init.customizr",function(){t.resolve()}),o.imagesLoaded(function(){r||o.masonry({itemSelector:".grid-item",hiddenStyle:{opacity:0},visibleStyle:{opacity:1},isOriginLeft:!i.isRTL}).on("smartload simple_load","img",function(i){a(this).closest(".grid-item").hasClass("full-image")||e()}),o.trigger("masonry-init.customizr")}),i.$_body.on("post-load",function(i,e){var n=function(i,e){if(e&&e.type&&"success"==e.type&&e.collection&&e.html)if(r)o.imagesLoaded(function(){o.trigger("masonry.customizr",e)});else{var n=a(e.collection.join(),o);0<n.length&&n.imagesLoaded(function(){o.masonry("appended",n).trigger("masonry.customizr",e),setTimeout(function(){a(window).trigger("scroll.infinity")},150)})}};"resolved"==t.state()?n(0,e):t.then(function(){n(0,e)})}))}}};i.methods.MasonryGrid={},a.extend(i.methods.MasonryGrid,e),i.Base.extend(i.methods.MasonryGrid),i.ready.done(function(){i.methods.MasonryGrid.initOnCzrReady()})}(jQuery,czrapp);